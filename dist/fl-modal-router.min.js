!function(){var a=function(){function a(a){var b=a.getAttribute("href"),c=!b||"#"===b||""===b;return c?null:b}function b(a,b){if(a&&a.targetModal){var c=document.querySelector(a.targetModal);if(!c)throw new Error("toggleModalFromState: No modal found with "+a.targetModal);$(c).modal(b),console.log("Imagine I am showing the modal with url "+a.modalUrl)}}function c(a){b(a,"show")}function d(a){b(a,"hide")}function e(a){var b,c=!1;if(!a)return!1;var d=a.targetModal;return b=document.querySelector(d),c=b.classList.contains("in")}function f(a,b){if(!a||"object"!=typeof a||!b||"object"!=typeof b)return!1;var c=Object.keys(a),d=Object.keys(b),e=0;return c.forEach(function(c){a[c]!==b[c]&&e++}),d.forEach(function(c){a[c]!==b[c]&&e++}),!e}return{getTargetUrl:a,showModalFromState:c,hideModalFromState:d,modalFromStateIsShowing:e,areEquivalentObjects:f}}(),b=function(b){function c(b){var c=b.relatedTarget;if(c){var d=a.getTargetUrl(c);if(!d)return void console.log("No target url");var e=c.dataset.target;if(!e)return void console.error("ModalRouter: No target modal specified.");var f="",g={isModalState:!0,targetModal:e,targetUrl:d,prevState:window.history.state,prevUrl:window.location.pathname};h.push(g,f,d)}}function d(){var b=h.getLastModalState();if(b){var c=window.history.state,d=a.areEquivalentObjects(c,b.prevState);if(!d){var e=b.prevState,f=b.prevUrl,g="";window.history.pushState(e,g,f)}}}function e(){console.log("History change called");var b=window.history.state;console.log(b);var c,d=h.isPastState(b);if(d&&(c=a.modalFromStateIsShowing(b),!c))return void a.showModalFromState(b);var e=h.getLastModalState();e&&window.location.pathname===e.targetUrl||(c=a.modalFromStateIsShowing(e),c&&a.hideModalFromState(e))}function f(){if(!g){g=!0;var a=document.body;if(!a)return g=!1,void window.addEventListener("load",f);var h=b(a);window.addEventListener("popstate",e),h.on("show.bs.modal",c),h.on("hide.bs.modal",d)}}var g=!1;if(!b)throw new Error("ModalRouter: No JQuery");var h=function(){function b(a,b,c){if("object"!=typeof a)throw new Error("stateTracker: Invalid state object.");g.push(a),window.history.pushState(a,b,c)}function c(a){var b=g.indexOf(a),c=b>=0;c?g.splice(b+1):g.push(a)}function d(){return g.length>0}function e(){return g[g.length-1]}function f(b){if(!b)return!1;var c=-1;return g.forEach(function(d,e){a.areEquivalentObjects(b,d)===!0&&(c=e)}),c>=0}var g=[];return{push:b,isInModalState:d,getLastModalState:e,moveTo:c,isPastState:f}}();return{init:f}}(jQuery);b.init()}();
//# sourceMappingURL=fl-modal-router.map