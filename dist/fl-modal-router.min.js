!function(){var a=function(){function a(a){var b=a.getAttribute("href"),c=!b||"#"===b||""===b;return c?null:b}function b(a,b){if(a&&a.targetModal){var c=document.querySelector(a.targetModal);if(!c)throw new Error("toggleModalFromState: No modal found with "+a.targetModal);$(c).modal(b),console.log("Imagine I am showing the modal with url "+a.modalUrl)}}function c(a){b(a,"show")}function d(a){b(a,"hide")}function e(a){var b,c=!1;if(!a)return!1;var d=a.targetModal;return b=document.querySelector(d),c=b.classList.contains("in")}return{getTargetUrl:a,showModalFromState:c,hideModalFromState:d,modalFromStateIsShowing:e}}(),b=function(b){function c(b){var c=b.relatedTarget;if(c){var d=a.getTargetUrl(c);if(!d)return void console.log("No target url");d="/modalOpen";var e=c.dataset.target;if(!e)throw new Error("ModalRouter: No target modal specified.");var f="",g={isModalState:!0,targetModal:e,targetUrl:d};h.push(g,f,d)}}function d(){h.pop()}function e(){console.log("History change called");var b=window.history.state;b&&b.isModalState&&(a.showModalFromState(b),h.moveTo(b));var c=h.getLastModalState();a.modalFromStateIsShowing(c)&&a.hideModalFromState(c)}function f(){if(!g){g=!0;var a=document.body;if(!a)return g=!1,void window.addEventListener("load",f);var h=b(a);window.addEventListener("popstate",e),h.on("show.bs.modal",c),h.on("hide.bs.modal",d)}}var g=!1;if(!b)throw new Error("ModalRouter: No JQuery");var h=function(){function a(a,b,c){if("object"!=typeof a)throw new Error("stateTracker: Invalid state object.");f.push(a),window.history.pushState(a,b,c)}function b(){f.pop(),window.history.back()}function c(a){var b=f.indexOf(a),c=b>=0;c?f.splice(b+1):f.push(a)}function d(){return f.length>0}function e(){return f[f.length-1]}var f=[];return{push:a,pop:b,isInModalState:d,getLastModalState:e,moveTo:c}}();return{init:f}}(jQuery);b.init()}();
//# sourceMappingURL=fl-modal-router.map